<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Computer Vision</title>
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
  />
  <style>
    /* Example blur class */
    .blurred {
      filter: blur(5px);
      cursor: pointer;  /* So it's clear that you can click on it */
      transition: filter 0.3s ease; /* Optional smooth transition */
    }
  </style> 
</head>
 
<body>
<div class="container-fluid">
  <!-- Header row, same style as your main page -->
  <div class="row bg-secondary p-3 align-items-center">
    <div class="col-auto">
      <img 
        src="{{ url_for('static', filename='images/artis-logo.webp') }}" 
        alt="Artis Logo" 
        style="max-height: 50px;"
      />
    </div>
    <div class="col text-white">
      <h5 class="mb-0">Azure Resource Toolkit for Intelligent Systems</h5>
    </div>
  </div>

  <div class="row">
    <!-- Left Menu -->
    <nav class="col-12 col-md-2 bg-light p-3 border-end" style="min-height: 100vh;">
      <h5 class="mb-3">Menu</h5>
      <ul class="nav flex-column">
        <li class="nav-item">
          <a class="nav-link" href="{{ url_for('index') }}">
            File Uploader
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="{{ url_for('computervision_page') }}">
            Computer Vision
          </a>
        </li>
      </ul>
    </nav>

    <!-- Main content -->
    <div class="col-12 col-md-10 p-4">
      <h2>Computer Vision</h2>

      <!-- Row for results and thumbnail side-by-side -->
      <div class="row mb-4">
        <!-- Col for results (textarea) -->
        <div class="col-md-6">
          <h5>Analysis/OCR Results:</h5>
          <textarea
            id="cvResults"
            class="form-control"
            rows="15"
            style="width: 100%;"
            readonly
          ></textarea>
        </div>

        <!-- Col for image thumbnail -->
        <div class="col-md-6">
          <h5>Thumbnail Preview:</h5>
          <!-- We'll update this via JS to show the relevant image -->
          <img 
            id="cvThumbnail" 
            src="" 
            alt="No image selected" 
            style="max-width: 30%; height: auto; border: 1px solid #ccc;"
          />
        </div>
      </div>

      <div class="card p-4">
        <h3>Files in Upload Container:</h3>
        <ul id="cvFileList" class="list-group"></ul>
      </div>
    </div>
  </div>
</div>

<!-- Toast container (for errors, etc.) -->
<div class="toast-container position-fixed top-0 end-0 p-3">
  <div
    id="statusToast"
    class="toast align-items-center text-bg-primary border-0"
    role="alert"
    aria-live="assertive"
    aria-atomic="true"
    data-bs-autohide="true"
    data-bs-delay="5000"
  >
    <div class="d-flex">
      <div id="statusToastBody" class="toast-body">
        <!-- Filled by JS -->
      </div>
      <button
        type="button"
        class="btn-close btn-close-white me-2 m-auto"
        data-bs-dismiss="toast"
        aria-label="Close"
      ></button>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="{{ url_for('static', filename='vision.js') }}"></script>
</body>
</html>
